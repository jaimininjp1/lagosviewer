<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>LagosPM Viewer</title>
  <link rel="shortcut icon" href="img/favicon.ico" />
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css"
    type="text/css">
  <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>  
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>

</head>

<body>
  <nav class="navbar navbar-expand-lg" style="padding: 0;">
    <div class="collapse navbar-collapse" id="navb">
      <ul class="navbar-nav mr-auto leftNav py-2">
        <li class="nav-item">
          <img src="img/lagos_logo_rec.png" class="jss8">
        </li>
      </ul>
      <ul class="navbar-nav ml-auto rightNav py-4 row" style="width: calc(100% - 307px);">
        <div class="nav-item col-md-5">
          <p class="MuiTypography-root MuiTypography-body1 css-hnz17l">Guggenheim Abu Dhabi</p>
        </div>
        <div class="col-md-3"></div>
        <div class="dropdown col-md-2">
          <select
            onchange="this.options[this.selectedIndex].value && (window.location = this.options[this.selectedIndex].value);"
            class="" id="projects" style="background-color: transparent;width:auto;border:none;">
            <option style="background: white;" value="https://demo.lagospm.com/ltepage.cfm?fn=collaboration.menu&pid=1">
              Animal Research Building - USDA
            </option>
            <option style="background: white;" value="https://demo.lagospm.com/ltepage.cfm?fn=collaboration.menu&pid=3">
              PSCo Lipan Distribution Complex
            </option>
            <option style="background: white;" value="https://demo.lagospm.com/ltepage.cfm?fn=collaboration.menu&pid=7">
              Sample Townhome Development
            </option>
            <option style="background: white;"
              value="https://demo.lagospm.com/ltepage.cfm?fn=collaboration.menu&pid=17">
              Sobha Hartland
            </option>
            <option style="background: white;"
              value="https://demo.lagospm.com/ltepage.cfm?fn=collaboration.menu&pid=20">
              Sample Commercial HQ Building
            </option>
            <option style="background: white;"
              value="https://demo.lagospm.com/ltepage.cfm?fn=collaboration.menu&pid=22">
              Dunkirk Elementary School
            </option>
            <option style="background: white;" value="https://lagosviewer.herokuapp.com" selected="">
              WIR ADG
            </option>
            <option style="background: white;" value="https://shrouded-ridge-44534.herokuapp.com/issues">
              Snags ADG
            </option>
          </select>
        </div>
        <div class="col-md-2">
          <ul class="navbar-nav">
            <li class="nav-item" style="margin-left: 15px;">
              <a style="cursor: pointer;" data-toggle="tooltip" data-placement="bottom" title="Work Inspection Requests ADG" class="" id="addWIR"><svg
                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true"
                  viewBox="0 0 24 24" data-testid="LocationOnIcon" style="font-size: 29px;">
                  <path
                    d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z">
                  </path>
                </svg>
              </a>
            </li>
            <li class="nav-item" style="margin-left: 15px;">
              <a style="cursor: pointer;" data-toggle="tooltip" data-placement="bottom" title="RFI" class="" id="rifpoint"><svg
                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true"
                  viewBox="0 0 24 24" data-testid="LocationOnIcon" style="font-size: 29px;">
                  <path
                    d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z">
                  </path>
                </svg>
              </a>
            </li>
            <li class="nav-item" style="margin-left: 15px;">
              <a style="cursor: pointer;" data-toggle="tooltip" data-placement="left" title="Snag" class="" id="snagpoint"><svg
                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true"
                  viewBox="0 0 24 24" data-testid="LocationOnIcon" style="font-size: 29px;">
                  <path
                    d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z">
                  </path>
                </svg>
              </a>
            </li>
          </ul>
        </div>
      </ul>
    </div>
  </nav>
  <div id="root">
    <div class="loader" id="loader"></div>
    <div
      class="allotment-module_splitView__1rmCV allotment-module_horizontal__Tf6PK allotment-module_separatorBorder__3xs3c _31aRXMFdgfZRfSR4FvhJc3">
      <div class="allotment-module_splitViewContainer__1ugsQ">
        <div id="leftPanel" class="allotment-module_splitViewView__KtCWc jss4 allotment-module_visible__phJMN"
          data-testid="split-view-view" style="left: 0px; width: 307px;">
          <div>
            <ul class="MuiList-root MuiList-padding MuiList-dense css-1ontqvh mainUlwir">
              <div>
                <% for(var i=0; i<wirs.length; i++) {%>
                  <li wirid="<%= wirs[i].wirid %>" id="box<%= wirs[i].wirid %>"
                    class="mainWir jss13 MuiListItem-root MuiListItem-dense MuiListItem-gutters MuiListItem-padding css-q6hm0g"
                    >
                    <small itype="<%= wirs[i].inspection_type %>" wirid="<%= wirs[i].wirid %>" style="color:red" class="removeWir action">x</small>
                    <div class="jss17 MuiListItemIcon-root css-1f8bwsm"><svg
                        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false"
                        aria-hidden="true" viewBox="0 0 24 24" data-testid="LocationOnIcon">
                        <path
                          d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z">
                        </path>
                      </svg></div>
                      <div style="padding: 10px;"><%= (2000+parseInt(wirs[i].wirid)) %></div>
                    <div class="MuiListItemText-root MuiListItemText-dense MuiListItemText-multiline css-1xar93x"
                      title="Need to inspect the foundation at this location.">
                      <span class="MuiTypography-root MuiTypography-body2 jss19 MuiListItemText-primary css-14tqbo1">
                        <%= wirs[i].location %>
                      </span>
                      <p class="MuiTypography-root MuiTypography-body2 jss20 MuiListItemText-secondary css-mbfek">
                        <% if(wirs[i].inspection_type=="sbe" ){ %>
                          Sand Blast Cleaning of Rebars
                          <% } else if(wirs[i].inspection_type=="swd" ){ %>
                            Sea Wall Deligence
                            <% } else if(wirs[i].inspection_type=="tc" ){ %>
                              Thermal Control
                              <% } else if(wirs[i].inspection_type=="sw" ){ %>
                                Shotcrete Works
                                <% } else if(wirs[i].inspection_type=="sri" ){ %>
                                  Still Reinforcement Installation
                                  <% } %>
                      </p>
                    </div>
                    <span class="jss14">
                      <%= wirs[i].date_of_inspection %>
                    </span>
                    <div class="MuiListItemSecondaryAction-root css-y3qv5r">
                      <div class="jss21 action"><button id="return<%= wirs[i].wirid %>"
                          class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall jss22 css-1j7qk7u"
                          tabindex="0" type="button" aria-label="View in LagosPM"><a
                            href="https://demo.lagospm.com/ltepage.cfm?fn=wir.edit&wirid=<%= wirs[i].wirid %>"
                            target="_blank"><svg stroke="currentColor" fill="currentColor" stroke-width="0"
                              viewBox="0 0 24 24" class="jss22" height="1em" width="1em"
                              xmlns="http://www.w3.org/2000/svg">
                              <g>
                                <path fill="none" d="M0 0h24v24H0z"></path>
                                <path
                                  d="M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z">
                                </path>
                              </g>
                            </svg></a><span class="MuiTouchRipple-root css-w0pj6f"></span></button>
                            <button issue="<%= wirs[i].drawing_link %>" wirid="<%= wirs[i].wirid %>" id="issueClick"  class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall jss16 css-1j7qk7u" tabindex="0" type="button" aria-label="Detail">
                              <svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall css-1k33q06" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="InfoIcon">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></svg>
                              <span class="MuiTouchRipple-root css-w0pj6f"></span></button>
                          </div>
                            
                    </div>
                  </li>
                  <hr id="hr<%= wirs[i].wirid %>" class="MuiDivider-root MuiDivider-fullWidth css-39bbo6">
                  <% } %>
              </div>
            </ul>
          </div>
        </div>
        <div id="middlePanel" class="allotment-module_splitViewView__KtCWc allotment-module_visible__phJMN"
          data-testid="split-view-view" style="left: 307px; width: calc(100% - 307px);">
          <div class="jss5">
            <div class="css-1x72cfx">
              <div style="width: 100%;" id="forgeViewer"></div>
            </div>
          </div>
        </div>
        <div id="rightPanel">
          <div class="css-ssqu8q">
            <button id="closeDetail" class="css-1yxmbwk" tabindex="0" type="button">
              <svg class="css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="ChevronRightIcon">
                <path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path>
              </svg>
              <span class="MuiTouchRipple-root css-w0pj6f"></span>
            </button>
          </div>
          <hr>
          <form>
            <div class="row">
              <div class="col-md-12 form-group">
                <label style="padding: 5px 0px 5px 0px;">Structure:</label>
                <input class="form-control" type="text" readonly="readonly" id="detailStructure" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 form-group">
                <label style="padding: 5px 0px 5px 0px;">Type of Structure:</label>
                <input class="form-control" type="text" readonly="readonly" id="detailTypeStructure" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 form-group">
                <label style="padding: 5px 0px 5px 0px;">Inspection Type:</label>
                <input class="form-control" type="text" readonly="readonly" id="detailInspection" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 form-group">
                <label style="padding: 5px 0px 5px 0px;">Date of Testing:</label>
                <input class="form-control" type="date" readonly="readonly" id="detailDate" />
              </div>
              <div class="col-md-6 form-group">
                <label style="padding: 5px 0px 5px 0px;">
                  Time of Testing:
                </label>
                <input class="form-control" type="text" readonly="readonly" id="detailTime" />
              </div>
            </div>
            <div id="thumId" class="row col-lg-12" style="padding:30px; cursor: pointer;">
              <img src="img/thumbnail.png" alt="Thumbnail" />
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <%- include('wirModal.ejs') %>
  <%- include('wirModalRead.ejs') %>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="js/forgeviewer.js"></script>
  <script src="js/main.js"></script>
</body>

</html>